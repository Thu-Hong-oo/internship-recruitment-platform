{
  "info": {
    "_postman_id": "8ea09979-6a15-433a-b99e-250d5037b51c",
    "name": "Users API",
    "description": "User management and profile endpoints (standardized responses)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Get User Profile",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/profile",
          "host": ["{{api_url}}"],
          "path": ["users", "profile"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/profile",
              "host": ["{{api_url}}"],
              "path": ["users", "profile"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": {\n    \"user\": {\n      \"id\": \"68be3577ba6d60a6c2751f51\",\n      \"email\": \"john@example.com\",\n      \"fullName\": \"John Doe\",\n      \"role\": \"candidate\",\n      \"authMethod\": \"local\",\n      \"isEmailVerified\": true,\n      \"isActive\": true,\n      \"avatar\": \"https://ui-avatars.com/api/...\",\n      \"createdAt\": \"2024-01-15T10:30:00.000Z\",\n      \"updatedAt\": \"2024-01-15T10:30:00.000Z\"\n    },\n    \"profile\": {}\n  }\n}"
        }
      ]
    },
    {
      "name": "Update Profile",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"fullName\": \"John Doe\",\n  \"email\": \"john@example.com\"\n}"
        },
        "url": {
          "raw": "{{api_url}}/users/profile",
          "host": ["{{api_url}}"],
          "path": ["users", "profile"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Doe\",\n  \"email\": \"john@example.com\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/users/profile",
              "host": ["{{api_url}}"],
              "path": ["users", "profile"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"68be3577ba6d60a6c2751f51\",\n    \"email\": \"john@example.com\",\n    \"fullName\": \"John Doe\",\n    \"role\": \"candidate\",\n    \"authMethod\": \"local\",\n    \"isEmailVerified\": true,\n    \"isActive\": true,\n    \"avatar\": \"https://ui-avatars.com/api/...\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Upload Avatar",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "avatar", "type": "file", "src": "/path/to/avatar.jpg" }
          ]
        },
        "url": {
          "raw": "{{api_url}}/users/avatar",
          "host": ["{{api_url}}"],
          "path": ["users", "avatar"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "avatar",
                  "type": "file",
                  "src": "/path/to/avatar.jpg"
                }
              ]
            },
            "url": {
              "raw": "{{api_url}}/users/avatar",
              "host": ["{{api_url}}"],
              "path": ["users", "avatar"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"message\": \"Upload avatar thành công\",\n  \"data\": {\n    \"avatar\": {\n      \"publicId\": \"internbridge/avatars/abc123\",\n      \"url\": \"https://res.cloudinary.com/...\",\n      \"size\": 12345,\n      \"format\": \"jpg\",\n      \"dimensions\": { \"width\": 200, \"height\": 200 }\n    },\n    \"user\": {\n      \"id\": \"68be3577ba6d60a6c2751f51\",\n      \"email\": \"john@example.com\",\n      \"fullName\": \"John Doe\",\n      \"role\": \"candidate\",\n      \"authMethod\": \"local\",\n      \"isEmailVerified\": true,\n      \"isActive\": true,\n      \"avatar\": \"https://ui-avatars.com/api/...\"\n    }\n  }\n}"
        }
      ]
    },
    {
      "name": "Change Password",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"currentPassword\": \"oldpassword123\",\n  \"newPassword\": \"newpassword123\"\n}"
        },
        "url": {
          "raw": "{{api_url}}/users/password",
          "host": ["{{api_url}}"],
          "path": ["users", "password"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"oldpassword123\",\n  \"newPassword\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/users/password",
              "host": ["{{api_url}}"],
              "path": ["users", "password"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"token\": \"eyJ...\"\n}"
        }
      ]
    },
    {
      "name": "Link Google Account",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"idToken\": \"google_id_token_here\"\n}"
        },
        "url": {
          "raw": "{{api_url}}/users/link-google",
          "host": ["{{api_url}}"],
          "path": ["users", "link-google"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"idToken\": \"google_id_token_here\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/users/link-google",
              "host": ["{{api_url}}"],
              "path": ["users", "link-google"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"message\": \"Liên kết tài khoản Google thành công\",\n  \"user\": {\n    \"id\": \"68be3577ba6d60a6c2751f51\",\n    \"email\": \"john@example.com\",\n    \"fullName\": \"John Doe\",\n    \"role\": \"candidate\",\n    \"authMethod\": \"hybrid\",\n    \"isEmailVerified\": true,\n    \"isActive\": true,\n    \"avatar\": \"https://ui-avatars.com/api/...\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Unlink Google Account",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/unlink-google",
          "host": ["{{api_url}}"],
          "path": ["users", "unlink-google"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/unlink-google",
              "host": ["{{api_url}}"],
              "path": ["users", "unlink-google"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"message\": \"Hủy liên kết tài khoản Google thành công\",\n  \"user\": {\n    \"id\": \"68be3577ba6d60a6c2751f51\",\n    \"email\": \"john@example.com\",\n    \"fullName\": \"John Doe\",\n    \"role\": \"candidate\",\n    \"authMethod\": \"local\",\n    \"isEmailVerified\": true,\n    \"isActive\": true,\n    \"avatar\": \"https://ui-avatars.com/api/...\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Get User by ID",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/{{user_id}}",
          "host": ["{{api_url}}"],
          "path": ["users", "{{user_id}}"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/{{user_id}}",
              "host": ["{{api_url}}"],
              "path": ["users", "{{user_id}}"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"68be3577ba6d60a6c2751f51\",\n    \"email\": \"john@example.com\",\n    \"fullName\": \"John Doe\",\n    \"role\": \"candidate\",\n    \"authMethod\": \"local\",\n    \"isEmailVerified\": true,\n    \"isActive\": true,\n    \"avatar\": \"https://ui-avatars.com/api/...\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Get Public User Profile",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/{{user_id}}/public-profile",
          "host": ["{{api_url}}"],
          "path": ["users", "{{user_id}}", "public-profile"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/{{user_id}}/public-profile",
              "host": ["{{api_url}}"],
              "path": ["users", "{{user_id}}", "public-profile"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"68be3577ba6d60a6c2751f51\",\n    \"fullName\": \"John Doe\",\n    \"role\": \"candidate\",\n    \"avatar\": \"https://ui-avatars.com/api/...\",\n    \"isActive\": true,\n    \"createdAt\": \"2024-01-15T10:30:00.000Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Search Users",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{api_url}}/users/search?q=john&role=candidate&page=1&limit=10",
          "host": ["{{api_url}}"],
          "path": ["users", "search"],
          "query": [
            { "key": "q", "value": "john" },
            { "key": "role", "value": "candidate" },
            { "key": "page", "value": "1" },
            { "key": "limit", "value": "10" }
          ]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{api_url}}/users/search?q=john&role=candidate&page=1&limit=10",
              "host": ["{{api_url}}"],
              "path": ["users", "search"],
              "query": [
                { "key": "q", "value": "john" },
                { "key": "role", "value": "candidate" },
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": \"68be3577ba6d60a6c2751f51\",\n      \"fullName\": \"John Doe\",\n      \"role\": \"candidate\",\n      \"avatar\": \"https://ui-avatars.com/api/...\",\n      \"isActive\": true,\n      \"createdAt\": \"2024-01-15T10:30:00.000Z\"\n    }\n  ],\n  \"pagination\": {\n    \"current\": 1,\n    \"pages\": 1,\n    \"total\": 1,\n    \"hasNext\": false,\n    \"hasPrev\": false\n  }\n}"
        }
      ]
    },
    {
      "name": "Get User Statistics",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/stats",
          "host": ["{{api_url}}"],
          "path": ["users", "stats"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/stats",
              "host": ["{{api_url}}"],
              "path": ["users", "stats"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": {\n    \"profileCompletion\": 85,\n    \"lastActive\": \"2024-01-15T10:30:00.000Z\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Update User Preferences",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"notifications\": {\n    \"email\": true\n  },\n  \"privacy\": {\n    \"profileVisibility\": \"public\"\n  },\n  \"language\": \"vi\",\n  \"timezone\": \"Asia/Ho_Chi_Minh\"\n}"
        },
        "url": {
          "raw": "{{api_url}}/users/preferences",
          "host": ["{{api_url}}"],
          "path": ["users", "preferences"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notifications\": {\n    \"email\": true\n  },\n  \"privacy\": {\n    \"profileVisibility\": \"public\"\n  },\n  \"language\": \"vi\",\n  \"timezone\": \"Asia/Ho_Chi_Minh\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/users/preferences",
              "host": ["{{api_url}}"],
              "path": ["users", "preferences"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": {\n    \"privacy\": { \"profileVisibility\": \"public\" },\n    \"notifications\": { \"email\": true },\n    \"language\": \"vi\",\n    \"timezone\": \"Asia/Ho_Chi_Minh\"\n  }\n}"
        }
      ]
    },
    {
      "name": "Get User Notifications",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/notifications?page=1&limit=20&unreadOnly=false",
          "host": ["{{api_url}}"],
          "path": ["users", "notifications"],
          "query": [
            { "key": "page", "value": "1" },
            { "key": "limit", "value": "20" },
            { "key": "unreadOnly", "value": "false" }
          ]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/notifications?page=1&limit=20&unreadOnly=false",
              "host": ["{{api_url}}"],
              "path": ["users", "notifications"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" },
                { "key": "unreadOnly", "value": "false" }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": [ { \"id\": \"68be...\", \"title\": \"New Job Match\", \"type\": \"job_match\", \"isRead\": false } ],\n  \"pagination\": { \"current\": 1, \"pages\": 1, \"total\": 1, \"hasNext\": false, \"hasPrev\": false }\n}"
        }
      ]
    },
    {
      "name": "Mark Notification as Read",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/notifications/{{notification_id}}/read",
          "host": ["{{api_url}}"],
          "path": ["users", "notifications", "{{notification_id}}", "read"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/notifications/{{notification_id}}/read",
              "host": ["{{api_url}}"],
              "path": ["users", "notifications", "{{notification_id}}", "read"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"data\": { \"id\": \"68be...\", \"isRead\": true }\n}"
        }
      ]
    },
    {
      "name": "Mark All Notifications as Read",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/notifications/read-all",
          "host": ["{{api_url}}"],
          "path": ["users", "notifications", "read-all"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/notifications/read-all",
              "host": ["{{api_url}}"],
              "path": ["users", "notifications", "read-all"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"message\": \"Đã đánh dấu tất cả thông báo là đã đọc\"\n}"
        }
      ]
    },
    {
      "name": "Delete Notification",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/notifications/{{notification_id}}",
          "host": ["{{api_url}}"],
          "path": ["users", "notifications", "{{notification_id}}"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/notifications/{{notification_id}}",
              "host": ["{{api_url}}"],
              "path": ["users", "notifications", "{{notification_id}}"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"message\": \"Đã xóa thông báo\"\n}"
        }
      ]
    },
    {
      "name": "Deactivate Account",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          },
          { "key": "Content-Type", "value": "application/json", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"reason\": \"Taking a break\"\n}"
        },
        "url": {
          "raw": "{{api_url}}/users/deactivate",
          "host": ["{{api_url}}"],
          "path": ["users", "deactivate"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Taking a break\"\n}"
            },
            "url": {
              "raw": "{{api_url}}/users/deactivate",
              "host": ["{{api_url}}"],
              "path": ["users", "deactivate"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"message\": \"Tài khoản đã được tạm ngưng\"\n}"
        }
      ]
    },
    {
      "name": "Reactivate Account",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{token}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{api_url}}/users/reactivate",
          "host": ["{{api_url}}"],
          "path": ["users", "reactivate"]
        }
      },
      "response": [
        {
          "name": "Success",
          "originalRequest": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{api_url}}/users/reactivate",
              "host": ["{{api_url}}"],
              "path": ["users", "reactivate"]
            }
          },
          "status": "OK",
          "code": 200,
          "header": [{ "key": "Content-Type", "value": "application/json" }],
          "body": "{\n  \"success\": true,\n  \"message\": \"Tài khoản đã được kích hoạt lại\"\n}"
        }
      ]
    }
  ]
}
