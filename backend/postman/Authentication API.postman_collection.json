{
	"info": {
		"_postman_id": "0da0c72d-b504-4440-a6c5-ed074e300b8e",
		"name": "Authentication API",
		"description": "Authentication endpoints for user registration, login, email verification, and password management",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "38146107",
		"_collection_link": "https://intership-platform.postman.co/workspace/Team-Workspace~96be9a72-219c-4bbc-8714-71a2edb8a68d/collection/38146107-0da0c72d-b504-4440-a6c5-ed074e300b8e?action=share&source=collection_link&creator=38146107"
	},
	"item": [
		{
			"name": "Register",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"email\": \"523.honggnuyen@gmail.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"role\": \"student\"\n}"
				},
				"url": {
					"raw": "{{api_url}}/auth/register",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"register"
					]
				}
			},
			"response": [
				{
					"name": "Successful Registration",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"role\": \"student\"\n}"
						},
						"url": {
							"raw": "{{api_url}}/auth/register",
							"host": [
								"{{api_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"user\": {\n    \"id\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n    \"email\": \"john@example.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"role\": \"student\",\n    \"fullName\": \"John Doe\",\n    \"authMethod\": \"local\",\n    \"isEmailVerified\": false,\n    \"profile\": {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"avatar\": \"\"\n    }\n  },\n  \"message\": \"Đăng ký thành công. Vui lòng kiểm tra email để xác thực tài khoản.\"\n}"
				}
			]
		},
		{
			"name": "Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Login successful\", function () {",
							"    pm.response.to.have.status(200);",
							"    var jsonData = pm.response.json();",
							"    if (jsonData.token) {",
							"        pm.environment.set(\"token\", jsonData.token);",
							"        pm.environment.set(\"user_id\", jsonData.user.id);",
							"    }",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}"
				},
				"url": {
					"raw": "{{api_url}}/auth/login",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"login"
					]
				}
			},
			"response": [
				{
					"name": "Successful Login",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{api_url}}/auth/login",
							"host": [
								"{{api_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"user\": {\n    \"id\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n    \"email\": \"john@example.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"role\": \"student\",\n    \"fullName\": \"John Doe\",\n    \"isEmailVerified\": true,\n    \"authMethod\": \"local\",\n    \"profile\": {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"avatar\": \"\"\n    }\n  }\n}"
				}
			]
		},
		{
			"name": "Logout",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{token}}"
					}
				],
				"url": {
					"raw": "{{api_url}}/auth/logout",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"logout"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Current User",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{token}}"
					}
				],
				"url": {
					"raw": "{{api_url}}/auth/me",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"me"
					]
				}
			},
			"response": [
				{
					"name": "Current User Info",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{api_url}}/auth/me",
							"host": [
								"{{api_url}}"
							],
							"path": [
								"auth",
								"me"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"user\": {\n    \"id\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n    \"email\": \"john@example.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"role\": \"student\",\n    \"fullName\": \"John Doe\",\n    \"authMethod\": \"local\",\n    \"isEmailVerified\": true,\n    \"isActive\": true,\n    \"lastLogin\": \"2024-01-15T10:30:00.000Z\",\n    \"candidateProfile\": null,\n    \"employerProfile\": null,\n    \"createdAt\": \"2024-01-01T00:00:00.000Z\",\n    \"updatedAt\": \"2024-01-15T10:30:00.000Z\",\n    \"profile\": {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"phone\": \"0123456789\",\n      \"avatar\": \"\",\n      \"bio\": \"Software developer passionate about AI\",\n      \"location\": {\n        \"city\": \"Ho Chi Minh\",\n        \"district\": \"District 1\",\n        \"country\": \"VN\"\n      },\n      \"dateOfBirth\": \"1998-01-01T00:00:00.000Z\",\n      \"gender\": \"male\"\n    },\n    \"preferences\": {\n      \"privacySettings\": {\n        \"profileVisibility\": \"public\",\n        \"showEmail\": false,\n        \"showPhone\": false\n      },\n      \"notifications\": {\n        \"emailNotifications\": true,\n        \"pushNotifications\": true,\n        \"jobAlerts\": true,\n        \"applicationUpdates\": true\n      },\n      \"language\": \"vi\",\n      \"timezone\": \"Asia/Ho_Chi_Minh\"\n    }\n  }\n}"
				}
			]
		},
		{
			"name": "Forgot Password",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"email\": \"john@example.com\"\n}"
				},
				"url": {
					"raw": "{{api_url}}/auth/forgotpassword",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"forgotpassword"
					]
				}
			},
			"response": [
				{
					"name": "Forgot Password Success",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john@example.com\"\n}"
						},
						"url": {
							"raw": "{{api_url}}/auth/forgotpassword",
							"host": [
								"{{api_url}}"
							],
							"path": [
								"auth",
								"forgotpassword"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"message\": \"Email đặt lại mật khẩu đã được gửi thành công\"\n}"
				}
			]
		},
		{
			"name": "Reset Password",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"email\": \"john@example.com\",\n  \"otp\": \"123456\",\n  \"password\": \"newpassword123\"\n}"
				},
				"url": {
					"raw": "{{api_url}}/auth/resetpassword",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"resetpassword"
					]
				}
			},
			"response": [
				{
					"name": "Password Reset Success",
					"originalRequest": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john@example.com\",\n  \"otp\": \"123456\",\n  \"password\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{api_url}}/auth/resetpassword",
							"host": [
								"{{api_url}}"
							],
							"path": [
								"auth",
								"resetpassword"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}"
				}
			]
		},
		{
			"name": "Google Auth",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"idToken\": \"{{google_id_token}}\"\n}"
				},
				"url": {
					"raw": "{{api_url}}/auth/google",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"google"
					]
				}
			},
			"response": []
		},
		{
			"name": "Verify Email",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"email\": \"john@example.com\",\n  \"otp\": \"123456\"\n}"
				},
				"url": {
					"raw": "{{api_url}}/auth/verify-email",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"verify-email"
					]
				}
			},
			"response": [
				{
					"name": "Email Verification Success",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john@example.com\",\n  \"otp\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{api_url}}/auth/verify-email",
							"host": [
								"{{api_url}}"
							],
							"path": [
								"auth",
								"verify-email"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"message\": \"Xác thực email thành công\",\n  \"user\": {\n    \"id\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n    \"email\": \"john@example.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"role\": \"student\",\n    \"fullName\": \"John Doe\",\n    \"isEmailVerified\": true,\n    \"authMethod\": \"local\",\n    \"profile\": {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"avatar\": \"\"\n    }\n  }\n}"
				}
			]
		},
		{
			"name": "Resend Email Verification",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"email\": \"john@example.com\"\n}"
				},
				"url": {
					"raw": "{{api_url}}/auth/resend-verification",
					"host": [
						"{{api_url}}"
					],
					"path": [
						"auth",
						"resend-verification"
					]
				}
			},
			"response": [
				{
					"name": "Resend Verification Success",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john@example.com\"\n}"
						},
						"url": {
							"raw": "{{api_url}}/auth/resend-verification",
							"host": [
								"{{api_url}}"
							],
							"path": [
								"auth",
								"resend-verification"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n  \"success\": true,\n  \"message\": \"Email xác thực đã được gửi thành công\"\n}"
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "api_url",
			"value": "http://localhost:3000/api",
			"type": "string"
		}
	]
}